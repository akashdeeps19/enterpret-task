(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);var n=i(1),c=i(10),s=i.n(c),l=(i(16),i(9),i(11)),r=i(7),o=i(8),a=function(){function e(t,i,n,c){Object(r.a)(this,e),this.rule=void 0,this.fields=void 0,this.conditionForFields=void 0,this.conditionMapping=void 0,this.valueForFields=void 0,this.fields=t,this.conditionForFields=i,this.conditionMapping=n,this.valueForFields=c,this.rule={field:"",condition:"default",value:"",type:"rule"}}return Object(o.a)(e,[{key:"setCondition",value:function(e){return e in this.conditionMapping?this.conditionForFields[e]:this.conditionForFields.default}},{key:"setValue",value:function(e){return e in this.valueForFields?this.valueForFields[e]:this.valueForFields.default}},{key:"getQueryString",value:function(){return"".concat(this.rule.field,"  ").concat(this.conditionMapping[this.rule.condition],"  ").concat(this.rule.value)}},{key:"setQueryRule",value:function(e,t,i){this.rule.field=e,this.rule.condition=t,this.rule.value=i}},{key:"getQueryRule",value:function(){return this.rule}}]),e}(),u=function(){function e(t,i,n,c){Object(r.a)(this,e),this.ruleGroup=void 0,this.fields=void 0,this.conditionForFields=void 0,this.conditionMapping=void 0,this.valueForFields=void 0,this.children=void 0,this.fields=t,this.conditionForFields=i,this.conditionMapping=n,this.valueForFields=c,this.ruleGroup={children:[],conjunction:"AND",not:!1,type:"rule_group"},this.children=[]}return Object(o.a)(e,[{key:"addGroupFilter",value:function(){return this.children.push(new e(this.fields,this.conditionForFields,this.conditionMapping,this.valueForFields)),this.children[this.children.length-1].addFilter(),this.children[this.children.length-1]}},{key:"addFilter",value:function(){return this.children.push(new a(this.fields,this.conditionForFields,this.conditionMapping,this.valueForFields)),this.children[this.children.length-1]}},{key:"getQueryRule",value:function(){this.ruleGroup.children=[];var e,t=Object(l.a)(this.children);try{for(t.s();!(e=t.n()).done;){var i=e.value;this.ruleGroup.children.push(i.getQueryRule())}}catch(n){t.e(n)}finally{t.f()}return this.ruleGroup}},{key:"getQueryString",value:function(){this.getQueryRule();for(var e={AND:"&&",OR:"||"},t=this.ruleGroup.not?"!(":"(",i=0;i<this.children.length-1;i++)t+="".concat(this.children[i].getQueryString(),"  ").concat(e[this.ruleGroup.conjunction]," ");return t+=this.children[this.children.length-1].getQueryString()+")"}}]),e}(),d=i(5),h=i(2),f=i(0);var j=function(e){var t=Object(n.useState)("default"),i=Object(h.a)(t,2),c=i[0],s=i[1],l="w-1/4 p-2 m-5 bg-gray-500",r="p-2";return Object(f.jsxs)("div",{className:"flex justify-center m-5 text-white rounded bg-gray-600 shadow-lg",children:[Object(f.jsxs)("select",{className:l,name:"Field",onChange:function(t){e.filter.rule.field=t.target.value,s(t.target.value)},children:[Object(f.jsx)("option",{className:r,hidden:!0,children:"Select Field"}),e.filter.fields.map((function(e,t){return Object(f.jsx)("option",{className:r,children:e},t)}))]}),Object(f.jsxs)("select",{className:l,name:"Condition",onChange:function(t){e.filter.rule.condition=t.target.value},children:[Object(f.jsx)("option",{className:r,hidden:!0,children:"Select Condition"}),e.filter.setCondition(c).map((function(e,t){return Object(f.jsx)("option",{className:r,children:e},t)}))]}),Object(f.jsxs)("select",{className:l,name:"Criteria",onChange:function(t){e.filter.rule.value=t.target.value},children:[Object(f.jsx)("option",{className:r,hidden:!0,children:"Select Criteria"}),e.filter.setValue(c).map((function(e,t){return Object(f.jsx)("option",{className:r,children:e},t)}))]})]})},b=0;var g=function(e){for(var t=[],i=0;i<e.gf.children.length;i++)t.push({filter:e.gf.children[i],key:b++});var c=Object(n.useState)(t),s=Object(h.a)(c,2),l=s[0],r=s[1],o=Object(n.useState)(!0),a=Object(h.a)(o,2),u=a[0],g=a[1],p=Object(n.useState)(!1),O=Object(h.a)(p,2),x=O[0],v=O[1],m=function(){e.gf.ruleGroup.conjunction=u?"OR":"AND",g(!u)};return Object(f.jsxs)("div",{className:"flex-col justify-center m-2 p-2 bg-gray-800 text-white",children:[Object(f.jsxs)("div",{className:"flex justify-start",children:[Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:x?"bg-indigo-600 p-1 mr-4":"p-1 mr-4",onClick:function(){e.gf.ruleGroup.not=!x,v(!x)},children:"NOT"})}),Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:u?"bg-indigo-600 p-1":"p-1",onClick:m,children:" AND "})}),Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:u?"p-1":"bg-indigo-600 p-1",onClick:m,children:" OR "})})]}),l.map((function(t,i){return Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)(j,{filter:t.filter}),1!==l.length&&Object(f.jsx)("button",{className:"bg-gray-500 h-10 p-2",onClick:function(){return function(t){1!==l.length&&(e.gf.children.splice(t,1),r(l.filter((function(e,i){return i!==t}))))}(i)},children:Object(f.jsx)("svg",{fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"16",height:"16",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M 10 2 L 9 3 L 3 3 L 3 5 L 4.109375 5 L 5.8925781 20.255859 L 5.8925781 20.263672 C 6.023602 21.250335 6.8803207 22 7.875 22 L 16.123047 22 C 17.117726 22 17.974445 21.250322 18.105469 20.263672 L 18.107422 20.255859 L 19.890625 5 L 21 5 L 21 3 L 15 3 L 14 2 L 10 2 z M 6.125 5 L 17.875 5 L 16.123047 20 L 7.875 20 L 6.125 5 z"})})})]},t.key)})),Object(f.jsx)("div",{className:"flex justify-start",children:Object(f.jsx)("button",{className:"p-2 bg-indigo-600 rounded",onClick:function(){var t=e.gf.addFilter();r([].concat(Object(d.a)(l),[{filter:t,key:b++}]))},children:"+ Add Filter"})})]})},p=0;var O=function(e){for(var t=[],i=0;i<e.gf.children.length;i++)t.push({filter:e.gf.children[i],key:p++});var c=Object(n.useState)(t),s=Object(h.a)(c,2),l=s[0],r=s[1],o=Object(n.useState)("Query"),a=Object(h.a)(o,2),u=a[0],j=a[1],b=Object(n.useState)(!0),O=Object(h.a)(b,2),x=O[0],v=O[1],m=Object(n.useState)(!1),y=Object(h.a)(m,2),F=y[0],N=y[1],L=function(){e.gf.ruleGroup.conjunction=x?"OR":"AND",v(!x)};return Object(f.jsxs)("div",{className:"flex-col bg-gray-900 text-white p-5 m-6 rounded",children:[Object(f.jsx)("div",{className:"flex justify-center bg-indigo-600 w-full p-2 mb-4",children:Object(f.jsx)("p",{children:u})}),Object(f.jsx)("div",{className:"flex justify-center",children:Object(f.jsx)("button",{className:"p-2 bg-indigo-600 rounded",onClick:function(){j(e.gf.getQueryString())},children:"Build"})}),Object(f.jsxs)("div",{className:"flex justify-start",children:[Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:F?"bg-indigo-600 p-1 mr-4":"p-1 mr-4",onClick:function(){e.gf.ruleGroup.not=!F,N(!F)},children:"NOT"})}),Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:x?"bg-indigo-600 p-1":"p-1",onClick:L,children:" AND "})}),Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:x?"p-1":"bg-indigo-600 p-1",onClick:L,children:" OR "})})]}),Object(f.jsx)("div",{className:"flex justify-center ",children:Object(f.jsx)("div",{className:"flex-col justify-center",children:l.map((function(t,i){return Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(g,{gf:t.filter}),1!==l.length&&Object(f.jsx)("button",{className:"bg-gray-800 mt-2 h-10 p-2",onClick:function(){return function(t){1!==l.length&&(e.gf.children.splice(t,1),r(l.filter((function(e,i){return i!==t}))))}(i)},children:Object(f.jsx)("svg",{fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"12",height:"12",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M 10 2 L 9 3 L 3 3 L 3 5 L 4.109375 5 L 5.8925781 20.255859 L 5.8925781 20.263672 C 6.023602 21.250335 6.8803207 22 7.875 22 L 16.123047 22 C 17.117726 22 17.974445 21.250322 18.105469 20.263672 L 18.107422 20.255859 L 19.890625 5 L 21 5 L 21 3 L 15 3 L 14 2 L 10 2 z M 6.125 5 L 17.875 5 L 16.123047 20 L 7.875 20 L 6.125 5 z"})})})]},t.key)}))})}),Object(f.jsx)("div",{className:"flex justify-start",children:Object(f.jsx)("button",{className:"p-2 bg-indigo-600 rounded",onClick:function(){var t=e.gf.addGroupFilter();r([].concat(Object(d.a)(l),[{filter:t,key:p++}]))},children:"+ Add Group Filter"})})]})};var x=function(){var e=new u(["Theme","Sub-theme","Reason","Language","Source","Rating","Time Period","Customer ID"],{Theme:["Equals","Does not equal","Greater","Lesser","Is","Is not"],default:["Equals","Does not equal","Greater","Lesser","Is","Is not"]},{Equals:"==","Does not equal":"!=",Is:"===","Is not":"!==",Greater:">",Lesser:"<"},{Theme:["performance","offer"],"Sub-theme":["efficieny","platform"],default:["value1","value2"]});return e.addGroupFilter(),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{className:"m-6 text-xl",children:"Query Builder"}),Object(f.jsx)("div",{className:"flex justify-center items-center w-3/5 m-auto",children:Object(f.jsx)(O,{gf:e})})]})},v=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,l=t.getTTFB;i(e),n(e),c(e),s(e),l(e)}))};s.a.render(Object(f.jsx)(x,{}),document.getElementById("root")),v()},9:function(e,t,i){}},[[18,1,2]]]);
//# sourceMappingURL=main.64038a76.chunk.js.map